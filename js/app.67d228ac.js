(function(t){function e(e){for(var n,o,s=e[0],l=e[1],u=e[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);h&&h(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,s=1;s<r.length;s++){var l=r[s];0!==a[l]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},a={app:0},i=[];function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var h=l;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"0edd":function(t,e,r){"use strict";r("12f7")},"12f7":function(t,e,r){},4750:function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("select",{directives:[{name:"model",rawName:"v-model",value:t.theme,expression:"theme"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.theme=e.target.multiple?r:r[0]}}},t._l(t.themes,(function(e){return r("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})),0),r("u-gantt-chart",{attrs:{axis:t.axis,"bar-start-key":"start","bar-end-key":"end","bar-config-key":"config","no-tooltip":t.noTooltip,grid:t.grid,"grid-size":t.gridSize,highlighted:t.highlighted,"is-magnetic":t.isMagnetic,height:t.height,"hide-timeaxis":t.hideTimeaxis,"push-on-overlap":t.pushOnOverlap,"row-height":t.rowHeight,"row-label-width":t.rowLabelWidth,"snap-back-on-overlap":"",theme:t.theme},on:{"dragend-bar":function(e){return t.onDragend(e)}}},t._l(t.rows,(function(e){return r("u-gantt-row",{key:e.label,attrs:{bars:e.bars,"highlight-on-hover":t.highlightOnHover,label:e.label,"label-style":e.labelStyle,"row-style":e.style},scopedSlots:t._u([{key:"bar-label",fn:function(e){var n=e.bar;return[r("span",[t._v(t._s(n.label))])]}}],null,!0)})})),1)],1)},i=[],o={data:function(){return{axis:[{key:"group1",label:"Group #1",units:8},{key:"group2",label:"Group #2",units:8},{key:"group3",label:"Group #3",units:8},{key:"group4",label:"Group #4",units:8},{key:"group5",label:"Group #5",units:5}],noTooltip:!1,grid:!0,gridSize:30,isMagnetic:!0,height:"50vh",hideTimeaxis:!1,highlightOnHover:!0,highlighted:[0],pushOnOverlap:!0,rowHeight:40,rowLabelWidth:200,rows:[{label:"Row #1",bars:[{start:"group1, 3",end:"group1, 6",label:"Immobile",tooltip:"Bar tooltip",config:{color:"white",backgroundColor:"#404040",opacity:.5,immobile:!0}},{start:"group2, 2",end:"group3, 0",label:"Bar",tooltip:"Bar tooltip",config:{color:"white",backgroundColor:"#2e74a3",bundle:"blueBundle"}}]},{label:"Row #2",labelStyle:{justifyContent:"end"},bars:[{start:"group1, 0",end:"group1, 8",label:"Bar",tooltip:"Bar tooltip",config:{color:"white",backgroundColor:"#de3b26",bundle:"redBundle"}},{start:"group2, 2",end:"group3, 0",label:"We belong together ^",tooltip:"Bar tooltip",config:{color:"white",backgroundColor:"#2e74a3",bundle:"blueBundle"}},{start:"group3, 5",end:"group4, 3",label:"Bar",tooltip:"Bar tooltip",config:{color:"white",backgroundColor:"#aa34a3"}}],style:{background:"#ffb0b07f"}},{label:"Row #3",bars:[{start:"group1, 1",end:"group2, 1",label:"We belong together ^",tooltip:"Bar tooltip",config:{color:"white",backgroundColor:"#de3b26",bundle:"redBundle"}},{start:"group2, 2",end:"group2, 7",label:"With handles!",tooltip:"Bar tooltip",config:{color:"white",backgroundColor:"#a23def",handles:!0}},{start:"group3, 2",end:"group3, 5",label:"Bar",tooltip:"Bar tooltip",config:{color:"white",backgroundColor:"#5effad",pushOnOverlap:!1,zIndex:2}},{start:"group4, 2",end:"group4, 7",label:"Woooow!",tooltip:"Bar tooltip",config:{color:"white",background:"repeating-linear-gradient(45deg, #de7359, #de7359 10px, #ffc803 10px, #ffc803 20px)"}}]},{label:"Row #4",bars:[{start:"group1, 4",end:"group2, 2",label:"Bar",tooltip:"Bar tooltip",config:{color:"white",backgroundColor:"#d18aaf",handles:!0}},{start:"group3, 3",end:"group4, 5",label:"Rectangular",tooltip:"Bar tooltip",config:{color:"white",backgroundColor:"#f2840f",borderRadius:0}}]},{label:"Row #5",bars:[],style:{background:"linear-gradient(-45deg, rgba(0, 0, 0, 0) 48%, rgba(0, 0, 0, 0.2) 50%, rgba(0, 0, 0, 0) 52%)",backgroundSize:"1em 1em"}},{label:"Row #6",bars:[]}],theme:"default",themes:["creamy","crimson","dark","default","flare","fuchsia","grove","material-blue","sky","slumber","vue"]}},methods:{onDragend:function(t){var e=t.event,r=t.bar,n=t.movedBars;console.log("onDragend",{event:e.type,bar:r,movedBars:n})}}},s=o,l=(r("0edd"),r("2877")),u=Object(l["a"])(s,a,i,!1,null,null,null),h=u.exports,d=(r("159b"),r("b64b"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"u-gantt-chart-container",style:{width:t.width,height:t.height},attrs:{"data-theme":t.theme}},[r("div",{staticClass:"u-gantt-chart"},[t.hideTimeaxis?t._e():r("u-gantt-timeaxis",{attrs:{"all-units":t.allUnits,axis:t.axis,"grid-size":t.gridSize,"row-label-width":t.rowLabelWidth,"timemarker-offset":t.timemarkerOffset}}),r("div",{staticClass:"u-gantt-rows-container",style:{width:t.rowLabelWidth+t.allUnits.length*t.gridSize+"px"}},[t.grid?r("u-gantt-grid",{attrs:{"all-units":t.allUnits,axis:t.axis,"grid-size":t.gridSize,highlighted:t.highlighted,"row-label-width":t.rowLabelWidth}}):t._e(),t._t("default")],2)],1)])}),f=[],c=r("3835"),b=r("2909"),g=(r("a9e3"),r("d3b7"),r("6062"),r("3ca3"),r("ddb0"),r("4de4"),r("b0c0"),r("ac1f"),r("1276"),r("b65f"),r("c740"),r("b680"),r("99af"),r("7db0"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"u-gantt-timeaxis",staticClass:"u-gantt-timeaxis",style:{width:t.rowLabelWidth+t.allUnits.length*t.gridSize+"px"}},[r("div",{staticClass:"u-gantt-timeaxis__empty-space",style:{minWidth:t.rowLabelWidth+"px"}}),r("div",{staticClass:"u-gantt-timeaxis__points"},t._l(t.axisPoints,(function(e,n){return r("div",{key:"point-"+n,staticClass:"u-gantt-timeaxis__point"},[r("div",{style:{maxWidth:t.gridSize*e.units.length+"px"}},[r("span",{attrs:{title:e.label}},[t._v(t._s(e.label))])]),r("div",{staticClass:"u-gantt-timeaxis__units"},t._l(e.units,(function(e,n){return r("div",{key:"unit-"+n,staticClass:"u-gantt-timeaxis__unit",style:{width:t.gridSize+"px"}},[r("span",{style:{fontSize:t.unitFontSize}},[t._v(t._s(e.label))]),r("div",{staticClass:"u-gantt-timeaxis__unit-pin"})])})),0)])})),0),r("div",{ref:"u-gantt-timeaxis-marker",staticClass:"u-gantt-timeaxis__marker"})])}),p=[],m={name:"UGanttTimeaxis",props:{allUnits:{type:Array,default:function(){return[]}},axis:{type:Array,default:function(){return[]}},gridSize:{type:Number},rowLabelWidth:{type:Number},timemarkerOffset:{type:Number,default:0}},data:function(){return{unitFontSize:"11px",timemarker:null}},computed:{axisPoints:function(){var t=[];return this.axis.forEach((function(e){for(var r={label:e.label,units:[]},n=0;n<=e.units-1;n++){var a={label:n};r.units.push(a)}t.push(r)})),t}},watch:{gridSize:function(){this.onWindowResize()}},mounted:function(){this.timemarker=this.$refs["u-gantt-timeaxis-marker"],this.onWindowResize(),window.addEventListener("resize",this.onWindowResize),window.addEventListener("mousemove",this.moveTimemarker),window.addEventListener("dragover",this.moveTimemarker)},destroyed:function(){window.removeEventListener("resize",this.onWindowResize),window.removeEventListener("mousemove",this.moveTimemarker),window.removeEventListener("dragover",this.moveTimemarker)},methods:{moveTimemarker:function(t){var e=this.timemarker.closest(".u-gantt-chart");if(e){var r=e.scrollLeft+t.clientX-this.timemarkerOffset-this.horizontalAxisContainer.left;r>this.horizontalAxisContainer.width&&(r=this.horizontalAxisContainer.width),this.timemarker.style.left="".concat(r,"px")}},onWindowResize:function(){this.$refs["u-gantt-timeaxis"]&&(this.horizontalAxisContainer=this.$refs["u-gantt-timeaxis"].getBoundingClientRect(),this.unitFontSize=Math.min(9.5,this.horizontalAxisContainer.width/this.allUnits.length*.75)+"px")}}},v=m,y=Object(l["a"])(v,g,p,!1,null,null,null),B=y.exports,w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"u-gantt-grid",staticClass:"u-gantt-grid",style:{left:t.rowLabelWidth+"px",width:t.allUnits.length*t.gridSize+"px"}},t._l(t.allUnits,(function(e,n){return r("div",{key:n,class:["u-gantt-grid__line",{"u-gantt-grid-line-last":n===t.allUnits.length-1},{"u-gantt-grid-line-highlighted":t.isHighlighted(e)}],style:{width:t.gridSize+"px"}})})),0)},x=[],C=(r("caad"),r("2532"),{name:"UGanttGrid",props:{allUnits:{type:Array,default:function(){return[]}},axis:{type:Array,default:function(){return[]}},gridSize:{type:Number},highlighted:{type:Array,default:function(){return[]}},rowLabelWidth:{type:Number}},methods:{isHighlighted:function(t){return this.highlighted.includes(t.index)}}}),T=C,O=Object(l["a"])(T,w,x,!1,null,null,null),G=O.exports,S=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",t._g({ref:"u-gantt-row",staticClass:"u-gantt-row",style:{height:t.chartProps.rowHeight+"px"}},t.$listeners),[r("div",{staticClass:"u-gantt-row__label",style:t.rowLabelStyle},[r("span",{attrs:{title:t.label}},[t._t("label",(function(){return[t._v(t._s(t.label))]}))],2)]),r("div",{ref:"bars-container",staticClass:"u-gantt-row__bars-container",style:t.rowStyle,on:{dragover:function(e){return t.onDragover(e)},dragleave:function(e){return t.onDragleave(e)},drop:function(e){return t.onDrop(e)},dblclick:function(e){return e.target!==e.currentTarget?null:t.onDoubleClick(e)},mouseover:function(e){return t.onMouseover()},mouseleave:function(e){return t.onMouseleave()}}},t._l(t.localBars,(function(e,n){return r("u-gantt-bar",{key:"bar-"+n,attrs:{"all-bars-in-row":t.localBars,bar:e,"bars-container":t.barsContainer},scopedSlots:t._u([{key:"bar-label",fn:function(e){var r=e.bar;return[t._t("bar-label",null,{bar:r})]}}],null,!0)})})),1)])},k=[],L=r("5530"),E=(r("4e82"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{ref:"u-gantt-bar",class:["u-gantt-bar",{"u-gantt-bar-immobile":t.barConfig.immobile},{"u-gantt-bar-resizable":t.barConfig.handles}],style:t.barStyle,on:{mouseenter:function(e){return e.stopPropagation(),t.onMouseenter(e)},mouseleave:function(e){return e.stopPropagation(),t.onMouseleave(e)},mousedown:function(e){return e.stopPropagation(),t.onMousedown(e)},click:function(e){return e.stopPropagation(),t.onClick(e)},dblclick:function(e){return t.onDblclick(e)},contextmenu:function(e){return t.onContextmenu(e)}}},[r("div",{staticClass:"u-gantt-bar__label"},[t._t("bar-label",(function(){return[t._v(t._s(t.barConfig.label))]}),{bar:t.localBar})],2),t.barConfig.handles?[r("div",{staticClass:"u-gantt-bar__handle-left"}),r("div",{staticClass:"u-gantt-bar__handle-right"})]:t._e()],2),r("transition",{attrs:{name:"fade",mode:"out-in"}},[t.noTooltip||t.barConfig.noTooltip||!t.showTooltip&&!t.isDragging?t._e():r("div",{staticClass:"u-gantt-bar__tooltip",style:t.tooltipStyle},[r("div",{staticClass:"color-indicator",style:{background:this.barStyle.background||this.barStyle.backgroundColor}}),r("div",[r("div",[t._v(t._s(t.localBar.tooltip))]),r("div",[t._v(t._s(t.tooltipContent))])])])])],1)}),_=[],K=r("53ca");r("fb6a"),r("5319"),r("4d63"),r("25f0"),r("d81d");String.prototype.formatUnicorn=String.prototype.formatUnicorn||function(){var t=this;if(arguments.length){var e="#$%#$%",r=Object(K["a"])(arguments[0]),n="string"===r||"number"===r?Array.prototype.slice.call(arguments):arguments[0];for(var a in n){var i=String(n[a]).replace("{",e);t=t.replace(new RegExp("\\{"+a+"\\}","gi"),i)}t=t.replace(e,"{")}return t};var D={name:"UGanttBar",props:{allBarsInRow:{type:Array},bar:{type:Object},barsContainer:[Object,DOMRect]},inject:["getAllUnits","getChartProps","globToText","initDragOfBarsFromBundle","moveBarsFromBundleOfPushedBar","onBarEvent","onDragendBar","setDragLimitsOfGanttBar","textToGlob"],data:function(){return{barStartBeforeDrag:null,barEndBeforeDrag:null,cursorOffsetX:0,dragLimitLeft:null,dragLimitRight:null,isDragging:!1,isMainBarOfDrag:!1,localBar:this.bar,mousemoveCallback:null,showTooltip:!1,tooltipTimeout:null}},computed:{allUnits:function(){return this.getAllUnits()},chartProps:function(){return this.getChartProps()},barConfigKey:function(){return this.chartProps.barConfigKey},barStartKey:function(){return this.chartProps.barStartKey},barEndKey:function(){return this.chartProps.barEndKey},noTooltip:function(){return this.chartProps.noTooltip},minGapBetweenBars:function(){return this.chartProps.minGapBetweenBars},barStartGlob:{get:function(){return this.textToGlob(this.localBar[this.barStartKey])},set:function(t){this.localBar[this.barStartKey]=this.globToText(t,"start")}},barEndGlob:{get:function(){return this.textToGlob(this.localBar[this.barEndKey])},set:function(t){this.localBar[this.barEndKey]=this.globToText(t,"end")}},barStartText:function(){return this.localBar[this.barStartKey]},barEndText:function(){return this.localBar[this.barEndKey]},barDurationText:function(){var t=this.textToGlob(this.localBar[this.barStartKey]),e=this.textToGlob(this.localBar[this.barEndKey]),r=e-t;return r.toFixed(r%1===0?0:2)},barConfig:function(){return this.localBar[this.barConfigKey]?Object(L["a"])(Object(L["a"])({},this.localBar[this.barConfigKey]),{},{background:this.localBar[this.barConfigKey].isShadow?"grey":this.localBar[this.barConfigKey].background||this.localBar[this.barConfigKey].backgroundColor,opacity:this.localBar[this.barConfigKey].isShadow?"0.3":this.localBar[this.barConfigKey].opacity}):{}},barStyle:function(){if(this.barsContainer.width){var t=this.mapGlobToPosition(this.barStartGlob),e=this.mapGlobToPosition(this.barEndGlob);return Object(L["a"])(Object(L["a"])({},this.barConfig||{}),{},{left:"".concat(t,"px"),width:"".concat(e-t,"px"),height:"".concat(this.chartProps.rowHeight-6,"px"),zIndex:this.barConfig.zIndex||(this.isDragging?2:1)})}},tooltipContent:function(){return this.chartProps.tooltipFormat.formatUnicorn({start:this.barStartText,end:this.barEndText,duration:this.barDurationText})},tooltipStyle:function(){return{left:this.barStyle.left,top:"".concat(this.chartProps.rowHeight,"px")}}},watch:{bar:function(t){this.localBar=t}},methods:{onMouseenter:function(t){var e=this;this.noTooltip||(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout((function(){return e.showTooltip=!0}),800)),this.onBarEvent({event:t,type:t.type},this)},onMouseleave:function(t){this.noTooltip||(clearTimeout(this.tooltipTimeout),this.showTooltip=!1),this.onBarEvent({event:t,type:t.type},this)},onContextmenu:function(t){var e=this.mapPositionToGlob(t.clientX-this.barsContainer.left);this.onBarEvent({event:t,type:t.type,time:e},this)},onClick:function(t){var e=this.mapPositionToGlob(t.clientX-this.barsContainer.left);this.onBarEvent({event:t,type:t.type,time:e},this)},onDblclick:function(t){var e=this.mapPositionToGlob(t.clientX-this.barsContainer.left);this.onBarEvent({event:t,type:t.type,time:e},this)},onMousedown:function(t){var e=this;if(t.preventDefault(),2!==t.button){this.barConfig.immobile||this.barConfig.isShadow||(this.setDragLimitsOfGanttBar(this),window.addEventListener("mousemove",this.onFirstMousemove,{once:!0}),window.addEventListener("mouseup",(function(){return window.removeEventListener("mousemove",e.onFirstMousemove)}),{once:!0}));var r=this.mapPositionToGlob(t.clientX-this.barsContainer.left);this.onBarEvent({event:t,type:t.type,time:r},this)}},onFirstMousemove:function(t){this.isMainBarOfDrag=!0,this.initDragOfBarsFromBundle(this,t)},initDrag:function(t){this.isDragging=!0,this.barStartBeforeDrag=this.textToGlob(this.localBar[this.barStartKey]),this.barEndBeforeDrag=this.textToGlob(this.localBar[this.barEndKey]);var e=this.$refs["u-gantt-bar"].getBoundingClientRect().left;this.cursorOffsetX=t.clientX-e;var r=t.target.className;switch(r){case"u-gantt-bar__handle-left":document.body.style.cursor="w-resize",this.mousemoveCallback=this.dragByHandleLeft;break;case"u-gantt-bar__handle-right":document.body.style.cursor="e-resize",this.mousemoveCallback=this.dragByHandleRight;break;default:this.mousemoveCallback=this.drag}window.addEventListener("mousemove",this.mousemoveCallback),window.addEventListener("mouseup",this.endDrag)},getBarWidth:function(t){var e=this.mapGlobToPosition(this.textToGlob(t[this.barStartKey])),r=this.mapGlobToPosition(this.textToGlob(t[this.barEndKey]));return r-e},drag:function(t){var e=t.target.closest(".u-gantt-chart");if(e){var r=this.$refs["u-gantt-bar"].getBoundingClientRect().width,n=e.scrollLeft+t.clientX-this.barsContainer.left-this.cursorOffsetX,a=n+r;this.isPosOutOfDragRange(n,a)||(this.barStartGlob=this.mapPositionToGlob(n),this.barEndGlob=this.mapPositionToGlob(a),this.manageOverlapping(),this.onBarEvent({event:t,type:"drag"},this))}},dragByHandleLeft:function(t){var e=t.target.closest(".u-gantt-chart");if(e){var r=e.scrollLeft+t.clientX-this.barsContainer.left,n=this.mapPositionToGlob(r);this.barEndGlob-n<1||this.isPosOutOfDragRange(r,null)||(this.barStartGlob=n,this.manageOverlapping())}},dragByHandleRight:function(t){var e=t.target.closest(".u-gantt-chart");if(e){var r=e.scrollLeft+t.clientX-this.barsContainer.left,n=this.mapPositionToGlob(r);n<=this.barStartGlob||this.isPosOutOfDragRange(null,r)||(this.barEndGlob=n,this.manageOverlapping())}},isPosOutOfDragRange:function(t,e){var r=this;if(t&&t<0)return!0;if(e>this.barsContainer.width)return!0;if(t&&null!==this.dragLimitLeft&&t<this.dragLimitLeft+this.minGapBetweenBars)return!0;if(e&&null!==this.dragLimitRight&&e>this.dragLimitRight-this.minGapBetweenBars)return!0;if(!this.chartProps.pushOnOverlap||!1===this.barConfig.pushOnOverlap)return!1;var n=t&&this.textToGlob(this.localBar[this.barStartKey])<this.barStartBeforeDrag,a=e&&this.textToGlob(this.localBar[this.barEndKey])>this.barEndBeforeDrag,i=this.allBarsInRow.findIndex((function(t){return t==r.localBar})),o=[];if(a){if(o=this.allBarsInRow.slice(i+1),o.length){var s=o.map((function(t){return t[r.barConfigKey]&&!1===t[r.barConfigKey].pushOnOverlap?0:r.getBarWidth(t)})).reduce((function(t,e){return t+e}));if(e>this.barsContainer.width-s)return!0}}else if(n&&(o=this.allBarsInRow.slice(0,i),o.length)){var l=o.map((function(t){return t[r.barConfigKey]&&!1===t[r.barConfigKey].pushOnOverlap?0:r.getBarWidth(t)})).reduce((function(t,e){return t+e}));if(t<l)return!0}return!1},endDrag:function(t){var e=!1,r=!1,n=!1;switch(document.body.style.cursor){case"e-resize":r=!0;break;case"w-resize":e=!0;break;default:n=!0;break}this.isDragging=!1,this.dragLimitLeft=null,this.dragLimitRight=null,document.body.style.cursor="auto",window.removeEventListener("mousemove",this.mousemoveCallback),window.removeEventListener("mouseup",this.endDrag),this.isMainBarOfDrag&&(this.onDragendBar(t,this,{left:e,right:r,move:n}),this.isMainBarOfDrag=!1)},snapBack:function(){this.barStartGlob=this.barStartBeforeDrag,this.barEndGlob=this.barEndBeforeDrag},manageOverlapping:function(){if(this.chartProps.pushOnOverlap&&!1!==this.barConfig.pushOnOverlap){var t=this.localBar,e=this.getOverlapBarAndType(t),r=e.overlapBar,n=e.overlapType;while(r){var a=void 0,i=this.textToGlob(t[this.barStartKey]),o=this.textToGlob(t[this.barEndKey]),s=this.textToGlob(r[this.barStartKey]),l=this.textToGlob(r[this.barEndKey]);switch(n){case"left":a=l-i+this.minGapBetweenBars,r[this.barEndKey]=this.globToText(i-this.minGapBetweenBars,"end"),r[this.barStartKey]=this.globToText(s-a,"start");break;case"right":a=o-s+this.minGapBetweenBars,r[this.barStartKey]=this.globToText(o+this.minGapBetweenBars,"start"),r[this.barEndKey]=this.globToText(l+a,"end");break;default:return void console.warn("One bar is inside of the other one! This should never occur while push-on-overlap is active!")}this.moveBarsFromBundleOfPushedBar(r,a,n),t=r;var u=this.getOverlapBarAndType(r);r=u.overlapBar,n=u.overlapType}}},getOverlapBarAndType:function(t){var e,r,n,a=this,i=this.textToGlob(t[this.barStartKey]),o=this.textToGlob(t[this.barEndKey]),s=this.allBarsInRow.find((function(s){if(s===t||s[a.barConfigKey]&&!1===s[a.barConfigKey].pushOnOverlap)return!1;var l=a.textToGlob(s[a.barStartKey]),u=a.textToGlob(s[a.barEndKey]);return e=i>l&&i<u,r=o>l&&o<u,n=l>i&&l<o||u>i&&u<o,e||r||n})),l=e?"left":r?"right":n?"between":null;return{overlapBar:s,overlapType:l}},moveBarByChildPointsAndPush:function(t,e){switch(e){case"left":this.barStartGlob=this.barStartGlob-t,this.barEndGlob=this.barEndGlob-t;break;case"right":this.barStartGlob=this.barStartGlob+t,this.barEndGlob=this.barEndGlob+t;break;default:return void console.warn("wrong direction in moveBarByChildPointsAndPush")}this.manageOverlapping()},mapGlobToPosition:function(t){return t/this.allUnits.length*this.barsContainer.width},mapPositionToGlob:function(t){return t/this.barsContainer.width*this.allUnits.length}}},P=D,$=Object(l["a"])(P,E,_,!1,null,null,null),R=$.exports,z={name:"UGanttRow",components:{UGanttBar:R},props:{bars:{type:Array,default:function(){return[]}},highlightOnHover:{type:Boolean},label:{type:String,default:"Row"},labelStyle:{type:Object},rowStyle:{type:Object}},inject:["getAllUnits","getChartProps","globToText","textToGlob"],data:function(){return{barsContainer:{},localBars:this.bars}},computed:{allUnits:function(){return this.getAllUnits()},chartProps:function(){return this.getChartProps()},defaultBarLength:function(){return this.chartProps.defaultBarLength},barConfigKey:function(){return this.chartProps.barConfigKey},rowLabelStyle:function(){return Object(L["a"])({width:"".concat(this.chartProps.rowLabelWidth,"px")},this.labelStyle)}},watch:{"chartProps.axis":function(){this.barsContainer=this.$refs["bars-container"].getBoundingClientRect()},"chartProps.rowLabelWidth":function(){this.barsContainer=this.$refs["bars-container"].getBoundingClientRect()},"chartProps.gridSize":function(){this.barsContainer=this.$refs["bars-container"].getBoundingClientRect()},bars:function(t){this.localBars=t}},mounted:function(){this.barsContainer=this.$refs["bars-container"].getBoundingClientRect(),window.addEventListener("resize",this.onWindowResize)},destroyed:function(){window.removeEventListener("resize",this.onWindowResize)},methods:{onDragover:function(t){t.preventDefault(),this.highlightOnHover&&this.$refs["u-gantt-row"].classList.add("u-gantt-row-highlighted")},onDragleave:function(){this.$refs["u-gantt-row"].classList.remove("u-gantt-row-highlighted")},onDrop:function(t){var e=this,r=this.$refs["bars-container"].getBoundingClientRect(),n=t.clientX-r.left,a=n/r.width*this.allUnits.length,i=a,o=this.localBars.find((function(t){return i>=e.textToGlob(t[e.chartProps.barStartKey])&&i<=e.textToGlob(t[e.chartProps.barEndKey])}));this.$emit("drop",{event:t,bar:o,time:i})},onDoubleClick:function(t){var e=this;if(this.chartProps.allowAdd){var r=this.$refs["bars-container"].getBoundingClientRect(),n=t.clientX-r.left,a=Math.floor(n/r.width*this.allUnits.length),i=a,o={};o[this.chartProps.barStartKey]=this.globToText(i,"start"),o[this.chartProps.barEndKey]=this.globToText(i+this.defaultBarLength,"end"),o[this.barConfigKey]={handles:!0},this.localBars.push(o),this.localBars.sort((function(t,r){return e.textToGlob(t[e.chartProps.barStartKey])-e.textToGlob(r[e.chartProps.barStartKey])}))}},onMouseover:function(){this.highlightOnHover&&this.$refs["u-gantt-row"].classList.add("u-gantt-row-highlighted")},onMouseleave:function(){this.$refs["u-gantt-row"].classList.remove("u-gantt-row-highlighted")},onWindowResize:function(){this.$refs["bars-container"]&&(this.barsContainer=this.$refs["bars-container"].getBoundingClientRect())}}},U=z,M=Object(l["a"])(U,S,k,!1,null,null,null),j=M.exports,W={name:"UGanttChart",components:{UGanttTimeaxis:B,UGanttGrid:G},props:{allowAdd:{type:Boolean,default:!0},axis:{type:Array,default:function(){return[]}},barConfigKey:{type:String,default:"config"},barEndKey:{type:String,default:"end"},barStartKey:{type:String,default:"start"},defaultBarLength:{type:Number,default:1},grid:{type:Boolean,default:!1},gridSize:{type:Number,default:30},height:{type:String,default:"100%"},hideTimeaxis:{type:Boolean,default:!1},highlighted:{type:Array,default:function(){return[]}},isMagnetic:{type:Boolean},minGapBetweenBars:{type:Number,default:0},noTooltip:{type:Boolean,default:!1},pushOnOverlap:{type:Boolean},rowHeight:{type:Number,default:40},rowLabelWidth:{type:Number,default:200},snapBackOnOverlap:{type:Boolean},theme:{type:String,default:"default"},tooltipFormat:{type:String,default:"{start} - {end} duration: {duration}"},width:{type:String,default:"100%"}},data:function(){return{movedBarsInDrag:new Set,timemarkerOffset:0}},computed:{allUnits:function(){var t=[];return this.axis.forEach((function(e){for(var r=0;r<=e.units-1;r++){var n={groupKey:e.key,groupLabel:e.label,index:r};t.push(n)}})),t}},methods:{getGanttBarChildrenList:function(){var t=[],e=this.$children.filter((function(t){return t.$options.name===j.name}));return e.forEach((function(e){var r=e.$children.filter((function(t){return t.$options.name===R.name}));t.push.apply(t,Object(b["a"])(r))})),t},getBarsFromBundle:function(t){return void 0===t||null===t?[]:this.getGanttBarChildrenList().filter((function(e){return e.barConfig.bundle===t}))},initDragOfBarsFromBundle:function(t,e){var r=this;t.initDrag(e),this.movedBarsInDrag.add(t.bar),null!==t.barConfig.bundle&&void 0!==t.barConfig.bundle&&this.getGanttBarChildrenList().forEach((function(n){n.barConfig.bundle===t.barConfig.bundle&&n!==t&&(n.initDrag(e),r.movedBarsInDrag.add(n.bar))}))},moveBarsFromBundleOfPushedBar:function(t,e,r){var n=this;this.movedBarsInDrag.add(t);var a=t[this.barConfigKey]?t[this.barConfigKey].bundle:null;void 0!==a&&null!==a&&this.getGanttBarChildrenList().forEach((function(i){i.barConfig.bundle===a&&i.bar!==t&&(i.moveBarByChildPointsAndPush(e,r),n.movedBarsInDrag.add(i.bar))}))},shouldSnapBackBar:function(t){if(this.snapBackOnOverlap&&!1!==t.barConfig.pushOnOverlap){var e=t.getOverlapBarAndType(t.bar),r=e.overlapBar;return!!r}return!1},snapBackBundleIfNeeded:function(t){var e=this,r=this.getBarsFromBundle(t.barConfig.bundle);return!(!this.shouldSnapBackBar(t)&&!r.some((function(t){return e.shouldSnapBackBar(t)})))&&(t.snapBack(),r.forEach((function(t){return t.snapBack()})),!0)},onBarEvent:function(t,e){var r=t.event,n=t.type,a=t.time;this.$emit("".concat(n,"-bar"),{event:r,bar:e.bar,time:a})},onDragendBar:function(t,e,r){var n=this,a=this.snapBackBundleIfNeeded(e),i=a?new Set:this.movedBarsInDrag;if(i.size&&this.isMagnetic){var o=r.left,s=r.right;i.forEach((function(t){o&&t==e.bar?n.textToGlob(t[n.barStartKey])%1<.5?t[n.barStartKey]=n.globToText(Math.floor(n.textToGlob(t[n.barStartKey])),"start"):t[n.barStartKey]=n.globToText(Math.round(n.textToGlob(t[n.barStartKey])),"start"):s&&t==e.bar?n.textToGlob(t[n.barEndKey])%1<.5?t[n.barEndKey]=n.globToText(Math.floor(n.textToGlob(t[n.barEndKey])),"end"):t[n.barEndKey]=n.globToText(Math.round(n.textToGlob(t[n.barEndKey])),"end"):n.textToGlob(t[n.barStartKey])%1<.5?(t[n.barStartKey]=n.globToText(Math.floor(n.textToGlob(t[n.barStartKey])),"start"),t[n.barEndKey]=n.globToText(Math.floor(n.textToGlob(t[n.barEndKey])),"end")):(t[n.barStartKey]=n.globToText(Math.round(n.textToGlob(t[n.barStartKey])),"start"),t[n.barEndKey]=n.globToText(Math.round(n.textToGlob(t[n.barEndKey])),"end"))}))}this.movedBarsInDrag=new Set,this.$emit("dragend-bar",{event:t,bar:e.bar,movedBars:i})},textToGlob:function(t){var e=t.split(","),r=Object(c["a"])(e,2),n=r[0],a=r[1],i=parseFloat(a),o=Math.trunc(i),s=i%1,l=this.allUnits.findIndex((function(t){return t.groupKey===n&&t.index===o}));return-1===l&&(0===s?(l=this.allUnits.findIndex((function(t){return t.groupKey===n&&t.index+1===o})),-1!==l&&l++):l=this.allUnits.length),l+s},globToText:function(t,e){var r,n,a=Math.trunc(t),i=t%1;a>=this.allUnits.length?(r=this.allUnits[this.allUnits.length-1],n=r.index+1):a<0?(r=this.allUnits[0],n=a):(r=this.allUnits[a],n=r.index,0===n&&"end"===e&&a>0&&0===i&&(r=this.allUnits[a-1],n=r.index+1));var o=(n+i).toFixed(0===i?0:2);return"".concat(r.groupKey,", ").concat(o)},setDragLimitsOfGanttBar:function(t){var e=this;if(this.pushOnOverlap&&!1!==t.barConfig.pushOnOverlap){for(var r=function(){for(var r=a[n],i=e.countGapDistanceToNextImmobileBar(t,null,r,!1),o=Object(c["a"])(i,2),s=o[0],l=o[1],u=function(t){var n=l[t].bar,a=l[t].gapDistance,i=e.getBarsFromBundle(n.barConfig.bundle).filter((function(t){return t!==n}));i.forEach((function(t){var n=e.countGapDistanceToNextImmobileBar(t,a,r),i=Object(c["a"])(n,2),o=i[0],u=i[1];null!==o&&(o<s||!s)&&(s=o),u.forEach((function(t){l.find((function(e){return e.bar===t.bar}))||l.push(t)}))}))},h=0;h<l.length;h++)u(h);null!=s&&"left"===r?t.dragLimitLeft=t.$refs["u-gantt-bar"].offsetLeft-s:null!=s&&"right"===r&&(t.dragLimitRight=t.$refs["u-gantt-bar"].offsetLeft+t.$refs["u-gantt-bar"].offsetWidth+s)},n=0,a=["left","right"];n<a.length;n++)r();var i=this.getBarsFromBundle(t.barConfig.bundle);i.forEach((function(e){e.dragLimitLeft=t.dragLimitLeft,e.dragLimitRight=t.dragLimitRight}))}},countGapDistanceToNextImmobileBar:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left",n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=t.barConfig.bundle?[{bar:t,gapDistance:e}]:[],i=t,o=this.getNextGanttBar(i,r);if("left"===r)while(o){var s=o.$refs["u-gantt-bar"].offsetLeft+o.$refs["u-gantt-bar"].offsetWidth;if(e+=i.$refs["u-gantt-bar"].offsetLeft-s,o.barConfig.immobile||o.barConfig.isShadow&&!n)return[e,a];o.barConfig.bundle&&a.push({bar:o,gapDistance:e}),i=o,o=this.getNextGanttBar(o,"left")}if("right"===r)while(o){var l=i.$refs["u-gantt-bar"].offsetLeft+i.$refs["u-gantt-bar"].offsetWidth;if(e+=o.$refs["u-gantt-bar"].offsetLeft-l,o.barConfig.immobile||o.barConfig.isShadow&&!n)return[e,a];o.barConfig.bundle&&a.push({bar:o,gapDistance:e}),i=o,o=this.getNextGanttBar(o,"right")}return[null,a]},getNextGanttBar:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"left",r=[];return r="left"===e?t.$parent.$children.filter((function(e){return e.$options.name===R.name&&e.$parent===t.$parent&&e.$refs["u-gantt-bar"]&&e.$refs["u-gantt-bar"].offsetLeft<t.$refs["u-gantt-bar"].offsetLeft&&!1!==e.barConfig.pushOnOverlap})):t.$parent.$children.filter((function(e){return e.$options.name===R.name&&e.$parent===t.$parent&&e.$refs["u-gantt-bar"]&&e.$refs["u-gantt-bar"].offsetLeft>t.$refs["u-gantt-bar"].offsetLeft&&!1!==e.barConfig.pushOnOverlap})),r.length>0?r.reduce((function(e,r){var n=Math.abs(e.$refs["u-gantt-bar"].offsetLeft-t.$refs["u-gantt-bar"].offsetLeft),a=Math.abs(r.$refs["u-gantt-bar"].offsetLeft-t.$refs["u-gantt-bar"].offsetLeft);return n<a?e:r}),r[0]):null}},provide:function(){var t=this;return{getAllUnits:function(){return t.allUnits},getChartProps:function(){return t.$props},globToText:function(e,r){return t.globToText(e,r)},initDragOfBarsFromBundle:function(e,r){return t.initDragOfBarsFromBundle(e,r)},moveBarsFromBundleOfPushedBar:function(e,r,n){return t.moveBarsFromBundleOfPushedBar(e,r,n)},onBarEvent:function(e,r){return t.onBarEvent(e,r)},onDragendBar:function(e,r,n){return t.onDragendBar(e,r,n)},setDragLimitsOfGanttBar:function(e){return t.setDragLimitsOfGanttBar(e)},textToGlob:function(e){return t.textToGlob(e)}}}},A=W,F=Object(l["a"])(A,d,f,!1,null,null,null),I=F.exports,N=(r("4750"),{UGanttChart:I,UGanttRow:j}),H=function(t){Object.keys(N).forEach((function(e){t.component(e,N[e])}))};"undefined"!==typeof window&&window.Vue&&H(window.Vue);n["a"].component("UGanttChart",I),n["a"].component("UGanttRow",j),n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(h)}}).$mount("#app")}});